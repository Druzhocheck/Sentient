links = [
    "https://www.coindesk.com/",
    "https://cointelegraph.com/",
    "https://decrypt.co/",
    "https://www.theblock.co/",
    "https://cryptoslate.com/",
    "https://bitcoinmagazine.com/",
    "https://blockworks.co/",
    "https://cryptobriefing.com/",
    "https://forklog.com/",
    "https://bits.media/",
    "https://t.me/Defiscamcheck",
    "https://t.me/drops_daily",
    "https://cryptorank.io/insights"
]

categories = {
    "vulnerabilities":"vulnerabilities",
    "hacking":"hacking",
    "laws":"dsf",
    "mainnet":"",
    "airdrop":"",
    "layoffs":"",
    "mergers":"",
    "innovations":"",
    "custom_category":"",
}

def news_prompt(user_category:str) -> str:
    if user_category in categories.keys():
        category = categories.get(user_category)
    else:
        category = user_category
    news = "".join(i for i in links)
    news_prompt = f"""Задача:
                Проанализируй предоставленные данные {news} и выдели 10 самых значимых и актуальных новостей, относящихся к категории {category}.
                Требования к анализу:
                Источники:
                Обработай все предоставленные ссылки на новости, статьи, блоги, официальные заявления и другие медиа.
                Учитывай только достоверные источники (проверенные СМИ, официальные сайты, авторитетные издания).
                Критерии отбора новостей:
                Актуальность: Новость должна быть свежей (предпочтительно за последние 1–7 дней, если не указано иное).
                Важность:
                Влияние на общество, экономику, политику или технологию.
                Наличие значимых последствий или широкого резонанса.
                Упоминание ключевых персон, организаций или событий.
                Достоверность: Исключи фейки, неподтверждённые слухи и откровенно предвзятые материалы.
                Формат вывода:
                Для каждой из 10 новостей предоставь:
                Заголовок (точная формулировка из источника или краткий пересказ).
                Источник (название СМИ, дата публикации).
                Краткое содержание (1–3 предложения: суть события, ключевые факты).
                Ссылка на источник (ссылка ведущая на данную новость).
                Дополнительные указания:
                Если в данных есть дублирующиеся новости (перепосты, пересказы), объедини их в одну запись, указав все источники.
                Отметь, есть ли среди новостей эксклюзивы, сенсации или экстренные сообщения.
                Пример вывода (для категории "Политика"):
                Заголовок: "Президент страны X объявил о новых санкциях против государства Y"
                Источник: РИА Новости, 15.05.2024
                Кратко: Глава государства X подписал указ о введении экономических ограничений в ответ на действия Y.
                Ссылка: https://link.com.
                Заголовок: "Оппозиция в стране Z организовала массовые протесты"
                Источник: BBC News, 14.05.2024
                Кратко: Тысячи людей вышли на улицы, требуя отставки правительства.
                Ссылка: https://link.com.
                ... (и так далее до 10 пунктов)"""

    return news_prompt